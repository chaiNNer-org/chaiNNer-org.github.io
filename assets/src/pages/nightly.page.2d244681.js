import{j as n,V as b,r as y}from"../../chunk-dd8790e5.js";import{b as L,F as S}from"../../chunk-cf962263.js";import{O as B,S as N,G as O,D as Z,K as $,i as m,M as z,R as A,C as H,B as I,a as T,b as E}from"../../chunk-2e0751ca.js";import{S as F,A as _,e as R}from"../../chunk-c0a103c3.js";import{H as f,a as M,b as P,S as W,I as v,L as C,B as k}from"../../chunk-3d31ef09.js";import{T as c}from"../../chunk-0b70e790.js";function D(e){const s=(e==null?void 0:e.published_at)??(e==null?void 0:e.created_at);if(s==null)return;const t=new Date(s);if(!Number.isNaN(t.getTime()))return t.toISOString().split("T")[0]}function V(e){const s=e.body,t=D(e);if(s==null)return"";const d=s.replace(/\r\n/g,`
`).replace(/'\s+'/g,`
`).replace(/'\s*\n/g,`
`).replace(/\n\s*'/g,`
`).split(`
`).map(o=>o.trim()).filter(o=>o.length>0).filter(o=>!/^Built on\s+\d{4}-\d{2}-\d{2}$/i.test(o)).filter(o=>t==null?!0:o!==t).map(o=>o.replace(/Built on\s+\d{4}-\d{2}-\d{2}/gi,"").trim().replace(/\s{2,}/g," ").trim()).filter(o=>o.length>0);return d.length===0?"":d.map(o=>`- ${o}`).join(`
`)}function G(e){const s=D(e)??e.tag_name??"Nightly build",t=V(e);return t.length>0?`# ${s}

${t}`:`# ${s}`}function U(e){const s=e.filter(r=>!r.draft).sort((r,l)=>new Date(l.published_at||l.created_at).getTime()-new Date(r.published_at||r.created_at).getTime()),t=s[0],p=t==null?void 0:t.assets.find(r=>r.name.endsWith(".dmg")),a=t==null?void 0:t.assets.find(r=>r.name.endsWith(".exe")),d=t==null?void 0:t.assets.find(r=>r.name.endsWith(".deb")),o=t==null?void 0:t.assets.find(r=>r.name.endsWith(".rpm")),i=t==null?void 0:t.assets.filter(r=>r.name.endsWith(".zip")),w=i==null?void 0:i.find(r=>r.name.includes("win")),g=i==null?void 0:i.find(r=>r.name.includes("mac")),x=i==null?void 0:i.find(r=>r.name.includes("linux")),j=s.map(G).join(`
`);return{latestVersion:t,dmgBuild:p,exeBuild:a,debBuild:d,rpmBuild:o,winZip:w,macZip:g,linuxZip:x,releaseDate:D(t),computedChangelog:j}}function Y(){const[e,s]=y.useState(null),[t,p]=y.useState(!1);return y.useEffect(()=>{fetch("https://api.github.com/repos/chaiNNer-org/chaiNNer-nightly/releases").then(async a=>{if(!a.ok)throw new Error(`GitHub API error: ${a.status}`);return await a.json()}).then(a=>{s(U(a))}).catch(()=>{p(!0)})},[]),{data:e,error:t}}function ne(){const{data:e,error:s}=Y(),t=e==null?void 0:e.latestVersion,p=e==null?void 0:e.dmgBuild,a=e==null?void 0:e.exeBuild,d=e==null?void 0:e.debBuild,o=e==null?void 0:e.rpmBuild,i=e==null?void 0:e.winZip,w=e==null?void 0:e.macZip,g=e==null?void 0:e.linuxZip,x=e==null?void 0:e.releaseDate,j=(e==null?void 0:e.computedChangelog)??"";let r,l,u;switch(B.name){case"Windows":r=a,l=i,u=E;break;case"Mac OS":r=p,l=w,u=T;break;case"Debian":r=d,l=g,u=S;break;case"RedHat":r=o,l=g,u=S;break;case"Linux":r=d,l=g,u=S;break;default:u=I;break}const h=e===null&&!s;return n.jsx(F,{children:n.jsxs(b,{spacing:10,mb:"auto",py:4,children:[n.jsxs(f,{w:"full",children:[n.jsx(N,{display:{base:"block",sm:"none"}}),n.jsx(M,{src:L,w:{base:"240px",md:"360px"}}),n.jsx(N,{}),n.jsxs(f,{spacing:{base:2,lg:6},display:{base:"none",sm:"flex"},children:[n.jsx(O,{}),n.jsx(Z,{}),n.jsx($,{})]})]}),n.jsxs(_,{status:"warning",borderRadius:"xl",w:"full",bg:"rgba(245, 158, 11, 0.1)",border:"1px solid",borderColor:"rgba(245, 158, 11, 0.3)",color:"yellow.200",children:[n.jsx(R,{color:"yellow.400"}),n.jsx(c,{fontWeight:"500",children:"Nightly builds are experimental and may be unstable."})]}),s?n.jsxs(_,{status:"error",borderRadius:"xl",w:"full",bg:"rgba(239, 68, 68, 0.1)",border:"1px solid",borderColor:"rgba(239, 68, 68, 0.3)",color:"red.200",children:[n.jsx(R,{color:"red.400"}),n.jsx(c,{fontWeight:"500",children:"Failed to load nightly releases. Please try again later."})]}):n.jsxs(n.Fragment,{children:[n.jsxs(b,{spacing:4,mb:6,children:[n.jsx(P,{bg:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",color:"white",borderRadius:"2xl",onClick:()=>{r!=null&&m&&(window.location.href=r==null?void 0:r.browser_download_url)},height:"auto",px:10,py:8,disabled:h||!m||r==null,boxShadow:"0 4px 12px -2px rgba(139, 92, 246, 0.3)",transition:"all 0.3s ease",_hover:{transform:"translateY(-2px)",boxShadow:"0 8px 20px -4px rgba(139, 92, 246, 0.4)",bg:"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)"},_active:{transform:"translateY(0)"},_disabled:{bg:"gray.600",color:"gray.400",cursor:"not-allowed",_hover:{transform:"none",boxShadow:"none"}},children:n.jsxs(b,{spacing:2,children:[n.jsxs(f,{spacing:3,children:[h?n.jsx(W,{size:"lg"}):n.jsx(v,{boxSize:8,as:z}),n.jsx(c,{fontSize:{base:20,sm:26,md:36},fontWeight:"bold",letterSpacing:"tight",children:h?"Loading...":t!=null?`Download Nightly${x!=null?` (${x})`:""}`:"No nightly release found"})]}),!h&&n.jsxs(f,{spacing:2,children:[n.jsx(v,{as:u,boxSize:5}),n.jsx(c,{fontSize:18,fontWeight:"500",opacity:.9,children:m?B.name:"Unsupported OS"})]})]})}),n.jsxs(b,{spacing:2,children:[l!=null&&m&&n.jsxs(c,{color:"gray.300",fontSize:"lg",textAlign:"center",children:["Or download the"," ",n.jsx(C,{color:"purple.400",href:l==null?void 0:l.browser_download_url,fontWeight:"600",textDecoration:"underline",textDecorationColor:"purple.400",textUnderlineOffset:"3px",transition:"all 0.2s ease",_hover:{color:"purple.300",textDecorationColor:"purple.300"},children:"portable nightly (zip)"})]}),n.jsxs(c,{color:"gray.300",fontSize:"lg",textAlign:"center",children:["Prefer stability?"," ",n.jsx(C,{color:"purple.400",href:"/download",fontWeight:"600",textDecoration:"underline",textDecorationColor:"purple.400",textUnderlineOffset:"3px",transition:"all 0.2s ease",_hover:{color:"purple.300",textDecorationColor:"purple.300"},children:"Go to stable downloads"})]})]})]}),n.jsxs(k,{color:"white",w:"full",bg:"gray.800",border:"1px solid",borderColor:"rgba(255, 255, 255, 0.1)",borderRadius:"xl",overflow:"hidden",children:[n.jsx(k,{bg:"gray.900",px:6,py:4,borderBottom:"1px solid",borderBottomColor:"rgba(255, 255, 255, 0.1)",children:n.jsx(c,{fontSize:"lg",fontWeight:"600",color:"white",children:"Nightly Release Notes"})}),n.jsx(k,{p:6,h:"49rem",w:"full",overflowY:"scroll",css:{"&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{background:"rgba(255, 255, 255, 0.1)",borderRadius:"4px"},"&::-webkit-scrollbar-thumb":{background:"rgba(139, 92, 246, 0.5)",borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover":{background:"rgba(139, 92, 246, 0.7)"}},children:h?n.jsxs(b,{h:"full",justify:"center",children:[n.jsx(W,{size:"xl",color:"purple.400"}),n.jsx(c,{color:"gray.400",mt:4,children:"Loading release notes..."})]}):n.jsx(A,{components:H(),skipHtml:!0,children:j})})]})]})]})})}const re={title:"chaiNNer Nightly Builds - Latest Development Releases",description:"Download the latest nightly builds of chaiNNer with cutting-edge features and improvements. Experimental builds for Windows, macOS, and Linux with the newest image processing capabilities.",keywords:"chaiNNer nightly, development builds, experimental features, beta version, latest updates",image:"https://chainner.app/banner.png"};export{ne as Page,re as documentProps};
